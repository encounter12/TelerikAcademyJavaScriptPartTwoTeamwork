<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Task 2</title>
    <link href="styles/style.css" rel="stylesheet" />
    
</head>
<body>
    <div id="menu">
        <a href="1.RandomDivs.html">Task 1</a>
        <a href="2.MovingDivs.html" id="current">Task 2</a>
        <a href="3.TextareaColors.html">Task 3</a>
        <a href="4.TagCloud.html">Task 4</a>
        <a href="5.TreeViewMenu.html">Task 5</a>
    </div>

    <p>2. Write a script that creates 5 div elements and moves them in circular path with interval of 100 milliseconds.</p>

    <script>
        function addDivs() {
            var template = document.createElement("div");
            template.style.height = "50px";
            template.style.width = "50px";
            template.style.borderRadius = "100px";
            template.style.position = "absolute";
            var angle = 0;
            var divs = []

            for (var i = 0; i < 5; i++) {
                var div = template.cloneNode(true);
                div.style.backgroundColor = generateRandomColor();
                coordX = calcCoordinateX(600, 200, angle) + "px";
                div.style.left = coordX;
                coordY = calcCoordinateY(350, 200, angle) + "px";
                div.style.top = coordY;
                document.body.appendChild(div);
                divs.push(div);
            }
            moveDiv(divs);
        }

        function moveDiv(divs) {
            var angle = [];
            var value = 1;
            for (var i = 0; i < divs.length; i++) {
                angle[i] = value;
                value += 72;
            }
            setInterval(function () {
                for (var i = 0; i < divs.length; i++) {
                    var inRadians = toRadians(angle[i]);
                    var xCoord = calcCoordinateX(600, 200, inRadians) + "px";
                    var yCoord = calcCoordinateY(350, 200, inRadians) + "px";
                    divs[i].style.left = xCoord;
                    divs[i].style.top = yCoord;
                    angle[i]++;
                    if (angle[i] > 360) {
                        angle[i] = 1;
                    }
                }
            }, 10)
        }

        function calcCoordinateX(centerX, distance, angle) {
            var cos = Math.cos(angle);
            var coordX = Math.round(centerX + distance * cos);
            return coordX;
        }

        function calcCoordinateY(centerY, distance, angle) {
            var coordY = Math.round(centerY + distance * (Math.sin(angle)));
            return coordY;
        }

        function toRadians(angle) {
            return angle * (Math.PI / 180);
        }

        function generateRandomColor() {
            var color = "#";
            var elements = "0123456789ABCDEF".split('');
            for (var i = 0; i < 6; i++) {
                var currentElement = randomIntFromInterval(0, 15);
                color += elements[currentElement];
            }
            return color;
        }

        function randomIntFromInterval(min, max) {
            return Math.floor(Math.random() * (max - min + 1) + min);
        }

        addDivs();
    </script>
</body>

</html>
